<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        mc:Ignorable="d"
        Title="QuickSearch" Height="350" Width="600"
        Background="#1E1E1E"
        BorderBrush="#3A3D44"
        GotFocus="Window_GotFocus">
        
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBox
            x:Name="SearchBox"
            PreviewKeyDown="SearchBox_PreviewKeyDown"
            TextChanged="SearchBox_TextChanged"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Center"
            VerticalContentAlignment="Center"
            HorizontalContentAlignment="Left"
            TextAlignment="Left"
            Height="30"
            Background="#26282C" 
            BorderBrush="#3A3D44"
            TextBlock.Foreground="#E7E7E7"
            Grid.Row="0"/>
        <TextBlock 
            IsHitTestVisible="False" 
            Text="Enter Search Term Here"
            Margin="5"
            VerticalAlignment="Center" 
            HorizontalAlignment="Left" 
            Foreground="#B3B6BD">
            <TextBlock.Style>
                <Style TargetType="{x:Type TextBlock}">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Text, ElementName=SearchBox}" Value="">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <ListBox
                Grid.Column="0"
                Background="#26282C"
                BorderBrush="#3A3D44"
                TextBlock.Foreground="#E7E7E7"
                VerticalAlignment="Stretch"
                x:Name="FoundFiles" 
                ItemsSource="{Binding Files}" 
                SelectedItem="{Binding SelectedFile, Mode=TwoWay}"
                DisplayMemberPath="Name" 
                HorizontalContentAlignment="Stretch">
                <ListBox.Resources>
                    <Style TargetType="ListBoxItem">
                        <EventSetter Event="MouseDoubleClick" Handler="ListBoxItem_MouseDoubleClick" />
                    </Style>
                </ListBox.Resources>
            </ListBox>
            <StackPanel 
                Width="auto" 
                Height="auto"
                Grid.Column="1">

                <ProgressBar 
                    x:Name="SearchProgressBar"
                    Visibility="Hidden"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    IsIndeterminate="True"
                    Width="300"
                    Height="20"
                    Margin="5"/>

                <Image
                    x:Name="PreviewImage"
                    Source="{Binding PreviewSource}"
                    ToolTip="{Binding PreviewToolTip}"
                    Stretch="Uniform"
                    VerticalAlignment="Stretch"
                    HorizontalAlignment="Stretch"
                    Width="150"
                    Height="140"
                    Margin="5"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
